trigger: none
# - feature/*
# - main

pool: my agent pool

stages:
  - stage: 
    jobs:
      - job: 
        steps: 
          - task: TerraformInstaller@1
            inputs:
              terraformVersion: 'latest'
          - task: TerraformTask@5
            inputs:
              provider: 'azurerm'
              command: 'init'
              workingDirectory: '$(System.DefaultWorkingDirectory)/env'
              backendAzureRmUseEntraIdForAuthentication: false
              backendServiceArm: 'todo-service-connection'
              backendAzureRmResourceGroupName: 'todo-backend-rg'
              backendAzureRmStorageAccountName: 'backendstorage001'
              backendAzureRmContainerName: 'container001'
              backendAzureRmKey: 'terraform.tfstate'
